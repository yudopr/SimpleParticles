function setupParticles(t,a){var r=gsap.timeline({defaults:{force3D:!0,ease:"sine.inOut",onStart:idleStop,onStartParams:[a],repeat:a.playState.repeat,yoyo:a.playState.yoyo}});if(t!=particleSets.id){for(var e=a.count,o=document.getElementById(t),i=(o.offsetWidth,o.offsetHeight,createParticleContainer(o)),n=0;n<e;n++)circ=document.createElementNS(svgns,"circle"),o.childElementCount<e&&(i.getElementsByTagName("g")[0].appendChild(circ),r.set(circ,{attr:{cx:`random(${a.start.x.from}, ${a.start.x.to}, 1)`,cy:`random(${a.start.y.from}, ${a.start.y.to}, 1)`,r:`random(${a.start.size.from}, ${a.start.size.to})`,fill:"random"==a.start.color?randomColor():a.start.color},opacity:`random(${a.start.opacity.from}, ${a.start.opacity.to})`},0),circ.params=a,animateParticle(circ,r));o.appendChild(i),particleSets.id=t}return timelines.push(r),timelines}function animateParticle(t,a){return a.to(t,{duration:`random(${t.params.duration.from}, ${t.params.duration.to})`,attr:{cy:`random(${t.params.end.y.from}, ${t.params.end.y.to}, 1)`},ease:"none"},.1),a.to(t,{duration:`random(${t.params.duration.from}, ${t.params.duration.to})`,attr:{cx:`random(${t.params.end.x.from}, ${t.params.end.x.to}, 1)`}},.1),a.to(t,{duration:`random(${t.params.duration.from}, ${t.params.duration.to})`,attr:{r:`random(${t.params.end.size.from}, ${t.params.end.size.to})`}},.1),a.to(t,{duration:`random(${t.params.duration.from}, ${t.params.duration.to})`,attr:{fill:t.params.colorOverlife?"random"==t.params.end.color?randomColor():t.params.end.color:t.params.start.color}},.1),a.to(t,{duration:`random(${t.params.duration.from}, ${t.params.duration.to})`,opacity:`random(${t.params.end.opacity.from}, ${t.params.end.opacity.to})`},.1),a.to(t,{duration:`random(${t.params.duration.from}, ${t.params.duration.to})`,rotation:`random(${t.params.end.rotation.from}, ${t.params.end.rotation.to}, 1)`},.1),a}function createParticleContainer(t){var a=document.createElementNS(svgns,"svg");a.id="svgParticleContainer",a.class="container",a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("viewBox",`0 0 ${t.offsetWidth} ${t.offsetHeight}`),a.appendChild(document.createElementNS(svgns,"defs"));var r=document.createElementNS(svgns,"g");return a.appendChild(r),a}function idleStop(t){gsap.delayedCall(t.idleDie.idleTime,function(){t.idleDie.active&&timelines.length>0&&timelines.pauseParticles()})}function randomColor(){return"#"+Math.floor(16777215*Math.random()).toString(16)}var particleSets={active:!1,id:""},timelines=[];const svgns="http://www.w3.org/2000/svg";Array.prototype.playParticle=function(t,a){this[t].play(a||timelines[t].time())},Array.prototype.playParticles=function(){this.forEach(t=>{t.play(t.time())})},Array.prototype.pauseParticle=function(t){this[t].pause()},Array.prototype.pauseParticles=function(){this.forEach(t=>{t.pause()})},Array.prototype.isParticlesPlaying=function(){return this.reduce((t,a)=>t.isActive()&&a.isActive(),this[0])},Array.prototype.destroyParticle=function(t){document.getElementById(t).innerHTML="",particleSets=!1};